<html lang="en"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./logov2.png" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="style.css"> -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>
    <title>g1 &amp;gt; Economia</title>
    <style>

.hidden {
            display: none;
        }
      body {
    box-sizing: border-box;
    margin: auto;
    overflow: hidden;
    width: 100%;
    height: 100%;
}
footer{
width: 100%;
height:80px;
margin: auto;
background-color: black;
padding:5px;
}
.mediumImg {
    width: 100%;
    height: 100%;
    /* object-fit: cover; */
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
}

.logoTag{
 margin-right: 10px;
}

a{
    text-decoration: none;
    color:white
}

#mark{
  height: 70px;
  background-image: url('./Logo\ Midiapro\ Sem\ Fundo.png');
  background-repeat:no-repeat;
  background-size: cover;
  background-position: center;
  width:500px;
  margin: auto;
}

.carousel-caption{
    width: 100% !important;
    right: 0 !important;
    left: 0 !important;
    background-color: rgb(0, 0, 0, .9) !important;
    text-align: inherit !important;
    padding: 0 !important;
    margin-bottom: 50px;
}

.text-light a{
text-decoration: none !important;
list-style: none !important;
}

.text-light{
    text-decoration: none !important;
    list-style: none !important;
    }

.logo{
    background-image: url('./logov2.png');
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
  /*  border-radius: 50%;*/
    height:150px;
    width:150px;
    float: right;
    margin-right: 8%;
    align-self: center;
}

.bar{
    background-color:#f08b3b ;
    height:100;
    width:35px;
    z-index: 9999;
    display: block;
    opacity: 1;
    height:auto;
}

.desc{
    font-size: 27px;
    
}

.tt{
    font-size:30px;
    font-weight: bold;
}







.desc{
    font-size: 27px ;
    margin-left:30px !important;
}

.tt{
    font-size:30px;
    font-weight: bold;
    margin-left:30px !important;
}

.hjk{
  height:auto ;
}

.logo{
  width:120px;
  height:120px;
}




    </style>
</head>
<body style="overflow: hidden">
       <div id="carouselExampleCaptions" class="carousel carousel-dark slide rounded-3" data-ride="carousel" data-bs-interval="58000" data-bs-delay = '0' data-bs-pause="false" data-bs-ride="carousel">
        <!-- <div class="carousel-indicators d-none">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" aria-label="Slide 5"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="5" aria-label="Slide 6"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="6" aria-label="Slide 7"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="7" aria-label="Slide 8"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="8" aria-label="Slide 9"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="9" aria-label="Slide 10"></button>

        </div> -->
        <div class="carousel-inner">
            <div class="mediumCarousel">

            </div>
          <div class="carousel-item active">
        </div>
        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button> -->
      </div>
   

    </div>
   
      <script>
        const username = `gschincariol`
  const RSSUrl = `https://www.guiadeniteroi.com/feed/`;
  const RSSConverter = `https://api.rss2json.com/v1/api.json?rss_url=https://www.guiadeniteroi.com/categorias/noticias/feed/%2F&api_key=hcofzfwbxy9od7bjgrwghknmdgb3bf7svvh2ciqx&count=5`;

  const RSSUrl2 = `https://www.guiadeniteroi.com/categorias/agenda/feed/`;
  const RSSConverter2 = `https://api.rss2json.com/v1/api.json?rss_url=https://www.guiadeniteroi.com/categorias/agenda/feed/%2F&api_key=hcofzfwbxy9od7bjgrwghknmdgb3bf7svvh2ciqx&count=5`
  const ay2 = []
  
  const $author = document.querySelector('title');
  const $carousel = document.querySelector('.mediumCarousel');
  const ay = []
  const getMediumData = async () => {
      
      try {
      const response = await fetch(RSSConverter)
     
      const data = await response.json();

      console.log(data)
     
      data.items.forEach(element => ay.push(element))
    let newdata = data.items.filter((g)=>
       g.thumbnail !== ''
     )
        data.items = newdata

    console.log(ay)
      return  ay,data;
      } catch(error){
          console.log(error)
      }
  };
  

  const getMediumData2 = async () => {
      
      try {
      const response2 = await fetch(RSSConverter2)
     
      const data2 = await response2.json();

      console.log(data2)
     
      data2.items.forEach(element => ay2.push(element))
    let newdata = data2.items.filter((g)=>
       g.thumbnail !== ''
     )
        data2.items = newdata

    console.log(ay2)
      return  ay2,data2;
      } catch(error){
          console.log(error)
      }
  };

  const getAuthor = async () => {
      const data = await getMediumData();
      const author = data.feed.title;
      $author.textContent = author;
  };
  
  const makeCarousel = async () => {
      const data = await getMediumData();
      const posts = ay;

      const data2 = await getMediumData2()
      const posts2 = ay2
     
    const mm =  ay.filter(e=>{return e.enclosure.link !== undefined })
    const mm2 =  ay2.filter(e=>{return e.enclosure.link !== undefined })

  
      for (let i = 0; i < ay.length; i++){
        var regex = /<img[^>]+src\s*=\s*['"]([^'"]+)['"][^>]*>/;




       posts[i].thumbnail = ay[i].enclosure.link
          let image = ay[i].description.match(regex);
          if (image && image[1]) {
        var srcValue = image[1];
        console.log("Link encontrado:", srcValue);
    } else {
        console.log("Nenhum link encontrado na string.");
    }
          const title = ay[i].title.toUpperCase();
          const description = ay[i].description;
          const now = new Date();
          const hj = `${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;
          // console.log(description.replace(/<img/g,''))
         const desc = description.substring(description.indexOf('>')+1)


         const des = desc.substring(desc.lastIndexOf(']')-200, '')
         let ti = title.slice(0,60)
         let dee2 = des.slice(0,150)
          const pubDate = posts[i].pubDate;
          // var dataInput = '2020-02-06';
  
  const datar = new Date(pubDate);
  const dataFormatada = datar.toLocaleDateString('pt-BR', {timeZone: 'UTC'});
  
          const carouselItem = document.createElement('div');
          const link = posts[i].link;
          const isActive = () => {
              return (i === 0 ? "active" : "");
          }
  
          carouselItem.className = `carousel-item noticia ${isActive()}`;
          carouselItem.innerHTML = `
          <img src="${srcValue}" id="caro" class="d-block mediumImg img-fluid " alt="">
          <div style="" class="carousel-caption d-none d-md-block bg-secondary bg-opacity-75 p-2 w-auto">
            
            <div class="hjk" style="display:flex; flex-direction:row;width:100%;align-content:center;justify-content:space-between;">
            <div class="bar"></div>
            <div style="display:flex; flex-direction:column;width:80%; align-self:center; flex-wrap:nowrap">
             
            <p style="margin-top:20px;margin-left:30px;" class="text-light"> <span class='logoTag'> <img src="./noticias.jpg" /> </span><span style="opacity:0;">Publicado em: ${dataFormatada}</span></p>
            <h5 class="text-light tt"${link}">${ti}...</a></h5>
            <div style="margin-bottom:20px;" class="text-light desc">${dee2} ...</div>
            
          </div>
            <div class="logo"></div>
          </div>
               
    </div>
    <div style="background-color:black; width:100%; display:none">
    ${hj}
    </div>     
            </div>`;
  
          $carousel.appendChild(carouselItem);
        

            setTimeout(() => {
         window.location.reload()
       }, 7500000);
      }


      for (let i = 0; i < ay2.length; i++){
        var regex2 = /<img[^>]+src\s*=\s*['"]([^'"]+)['"][^>]*>/;




       posts2[i].thumbnail = ay2[i].enclosure.link
          let image2 = ay2[i].description.match(regex2);
          if (image2 && image2[1]) {
        var srcValue2 = image2[1];
        console.log("Link encontrado:", srcValue2);
    } else {
        console.log("Nenhum link encontrado na string.");
    }
          const title2 = ay2[i].title.toUpperCase();
          const description2 = ay2[i].description;
          const now2 = new Date();
          const hj2 = `${now2.getHours()}:${now2.getMinutes()}:${now2.getSeconds()}`;
          // console.log(description.replace(/<img/g,''))
         const desc2 = description2.substring(description2.indexOf('>')+1)


         const des2 = desc2.substring(desc2.lastIndexOf(']')-200, '')
         let tit = title2.slice(0,60)
         let desc22 = des2.slice(0,150)
          const pubDate2 = posts2[i].pubDate;
          // var dataInput = '2020-02-06';
  
  const datar2 = new Date(pubDate2);
  const dataFormatada2 = datar2.toLocaleDateString('pt-BR', {timeZone: 'UTC'});
  
          const carouselItem2 = document.createElement('div');
          const link2= posts2[i].link;
           isActive2 = () => {
              return (i === 0 ? "active" : "");
          }
  
          carouselItem2.className = `carousel-item agenda`;
          carouselItem2.innerHTML = `
          <img src="${srcValue2}" id="caro" class="d-block mediumImg img-fluid " alt="">
          <div style="" class="carousel-caption d-none d-md-block bg-secondary bg-opacity-75 p-2 w-auto">
            
            <div class="hjk" style="display:flex; flex-direction:row;width:100%;align-content:center;justify-content:space-between;">
            <div class="bar"></div>
            <div style="display:flex; flex-direction:column;width:80%; align-self:center; flex-wrap:nowrap">
            <p style="margin-top:20px;margin-left:30px;" class="text-light"><span class='logoTag'> <img src="./agenda.jpg" /> </span><span style="opacity:0;">Publicado em: ${dataFormatada2}</span></p>
            <h5 class="text-light tt"${link2}">${tit}...</a></h5>
            <div style="margin-bottom:20px;" class="text-light desc">${desc22} ...</div>
            
          </div>
            <div class="logo"></div>
          </div>
               
    </div>
    <div style="background-color:black; width:100%; display:none">
    ${hj2}
    </div>     
            </div>`;
  
          $carousel.appendChild(carouselItem2);


       
        

            setTimeout(() => {
         window.location.reload()
       }, 7500000);
      }




  
  };
  
  getAuthor();
  makeCarousel().then(()=>{
    let agenda = document.querySelectorAll('.agenda')
  let noticia = document.querySelectorAll('.noticia')
  let mc = document.querySelector('.mediumCarousel')
  console.log(noticia)
for(var t = 0;t < noticia.length -10;t++){
  mc.insertBefore(agenda[t],noticia[t])
  console.log(mc)
}

  })
 
 

  
 
console.log(window.innerHeight)
      </script>
    
     

</body></html>